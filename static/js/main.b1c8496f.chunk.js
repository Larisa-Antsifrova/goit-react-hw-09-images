(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{11:function(e,t,n){e.exports={DeleteButton:"DeleteButton_DeleteButton__2xBJy",deleteIcon:"DeleteButton_deleteIcon__1jIbu"}},12:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1BKt5","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image___rWS1"}},13:function(e,t,n){e.exports={Overlay:"Modal_Overlay__1LxPU",Modal:"Modal_Modal__Tkr5S"}},25:function(e,t,n){e.exports={Container:"Container_Container__1tP7V"}},26:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__2ihN0"}},27:function(e,t,n){e.exports={Button:"Button_Button__23UvZ"}},28:function(e,t,n){e.exports={CloseButton:"CloseButton_CloseButton__3aSXE"}},29:function(e,t,n){e.exports={error:"Error_error__13TFU"}},5:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__1Wmut",SearchForm:"Searchbar_SearchForm__3JZ8f","SearchForm-button":"Searchbar_SearchForm-button__3Sdy1","SearchForm-button-label":"Searchbar_SearchForm-button-label__ooENt","SearchForm-input":"Searchbar_SearchForm-input__K7x56"}},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),u=n(16),s=n(3),l=n(25),i=n.n(l),b=n(1),m=function(e){var t=e.children;return Object(b.jsx)("div",{className:i.a.Container,children:t})},j=n(5),d=n.n(j);function f(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],o=r[1];return Object(b.jsx)("header",{className:d.a.Searchbar,children:Object(b.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){e.preventDefault(),c&&t(c),o("")},children:[Object(b.jsx)("button",{type:"submit",className:d.a["SearchForm-button"],children:Object(b.jsx)("span",{className:d.a["SearchForm-button-label"],children:"Search"})}),Object(b.jsx)("input",{className:d.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.target.value;return o(t)}})]})})}var h=n(26),O=n.n(h),p=function(e){var t=e.children;return Object(b.jsx)("ul",{className:O.a.ImageGallery,children:t})},g=n(9),_=n(11),x=n.n(_),S=function(e){var t=e.id,n=e.onDelete;return Object(b.jsx)("button",{type:"button",onClick:function(){return n(t)},className:x.a.DeleteButton,children:Object(b.jsx)(g.b,{className:x.a.deleteIcon})})},v=n(12),y=n.n(v);function I(e){var t=e.image,n=t.webformatURL,r=t.largeImageURL,c=t.tags,o=t.id,u=e.setLargeImg,l=e.deleteImage,i=Object(a.useState)(),m=Object(s.a)(i,2),j=m[0],d=m[1],f=function(){d(!j)};return Object(b.jsxs)("li",{className:y.a.ImageGalleryItem,onMouseEnter:f,onMouseLeave:f,onMouseOver:function(){d(!0)},children:[Object(b.jsx)("img",{onClick:function(){return u(r)},src:n,alt:c,className:y.a["ImageGalleryItem-image"]}),j&&Object(b.jsx)(S,{id:o,onDelete:l})]})}var C=n(27),N=n.n(C),B=function(e){var t=e.onClick,n=e.label;return Object(b.jsx)("button",{type:"button",className:N.a.Button,onClick:t,children:n})};B.defaultProps={label:"Button"};var F=B,k=n(28),w=n.n(k),G=function(e){var t=e.onClose;return Object(b.jsx)("button",{type:"button",className:w.a.CloseButton,onClick:t,children:Object(b.jsx)(g.a,{})})},E=n(13),L=n.n(E),M=document.querySelector("#modal-root");function D(e){var t=e.onClose,n=e.largeImgUrl,r=Object(a.useState)(!1),o=Object(s.a)(r,2),u=o[0],l=o[1];Object(a.useEffect)((function(){var e=function(e){return"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}));return Object(c.createPortal)(Object(b.jsx)("div",{className:L.a.Overlay,onClick:function(e){return e.currentTarget===e.target&&t()},children:Object(b.jsxs)("div",{className:L.a.Modal,children:[u&&Object(b.jsx)(G,{onClose:t}),Object(b.jsx)("img",{src:n,alt:"Gallery item",onLoad:function(){return l(!0)}})]})}),M)}var U=n(29),P=n.n(U),q=function(e){var t=e.message;return Object(b.jsx)("p",{className:P.a.error,children:t})},J=n(14),T=n.n(J),R=n(30),K=n(15),W=n.n(K);W.a.defaults.baseURL="https://pixabay.com/api/";var Z="19692208-b21bb8a95ceb217f14156bc9c";function z(){return(z=Object(R.a)(T.a.mark((function e(t){var n,a,r,c,o,u,s,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,a=void 0===n?"":n,r=t.page,c=void 0===r?1:r,o=t.perPage,u=void 0===o?12:o,e.next=3,W.a.get("?q=".concat(a,"&page=").concat(c,"&key=").concat(Z,"&image_type=photo&orientation=horizontal&per_page=").concat(u));case 3:return s=e.sent,l=s.data,e.abrupt("return",l.hits);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n(31),V=n.n(A),X=(n(77),n(32)),H=n.n(X);function Q(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(s.a)(c,2),l=o[0],i=o[1],j=Object(a.useState)(1),d=Object(s.a)(j,2),h=d[0],O=d[1],g=Object(a.useState)(!1),_=Object(s.a)(g,2),x=_[0],S=_[1],v=Object(a.useState)(null),y=Object(s.a)(v,2),C=y[0],N=y[1],B=Object(a.useState)(""),k=Object(s.a)(B,2),w=k[0],G=k[1],E=Object(a.useState)(!1),L=Object(s.a)(E,2),M=L[0],U=L[1];Object(a.useEffect)((function(){l&&(S(!0),function(e){return z.apply(this,arguments)}({query:l,page:h}).then((function(e){r((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))}))})).catch((function(e){N(e)})).finally((function(){return S(!1)})))}),[h,l]);var P=function(e){G(e),J()},J=function(){U(!M)},T=function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(f,{onSubmit:function(e){r([]),i(e),O(1),S(!1),N(null),G(""),U(!1)}}),Object(b.jsxs)(m,{children:[Object(b.jsx)(p,{children:n.map((function(e){return Object(b.jsx)(I,{image:e,setLargeImg:P,deleteImage:T},e.id)}))}),C&&Object(b.jsx)(q,{message:C.message}),x&&Object(b.jsx)(V.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,className:"loader"})]}),!H.a.isEmpty(n)&&!x&&Object(b.jsx)(F,{onClick:function(){return O((function(e){return e+1}))},label:"Load more"}),M&&Object(b.jsx)(D,{largeImgUrl:w,onClose:J})]})}n(80),n(81);o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Q,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.b1c8496f.chunk.js.map